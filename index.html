<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">

  <title>Javascript basics</title>

  <meta name="description" content="Javascript basics">
  <meta name="author" content="Marek Gerhart">

  <meta name="apple-mobile-web-app-capable" content="yes"/>
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <link rel="stylesheet" href="css/reveal.min.css">
  <link rel="stylesheet" href="css/theme/default.css" id="theme">

  <!-- For syntax highlighting -->
  <link rel="stylesheet" href="lib/css/zenburn.css">

  <!-- If the query includes 'print-pdf', use the PDF print sheet -->
  <script>
    document.write('<link rel="stylesheet" href="css/print/' + ( window.location.search.match(/print-pdf/gi) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">');
  </script>

  <!--[if lt IE 9]>
  <script src="lib/js/html5shiv.js"></script>
  <![endif]-->
</head>

<body>

<div class="reveal">

<!-- Any section element inside of this container is displayed as a slide -->
<div class="slides">
<section>
  <h1>Javascript basics</h1>

  <p>
    <small><strong>Marek Gerhart</strong> @ GoodData 2013</small>
  </p>
</section>

<section>
  <h1>Agenda</h1>

  <ul>
    <li>Introduction</li>
    <li>History</li>
    <li>Overview</li>
    <li>Types</li>
    <li>Objects</li>
    <li>Function</li>
    <li>Some statements + stuff that don't fit anywhere else</li>
    <li>Execution model</li>
    <li>Developer tools</li>
  </ul>

  <aside data-markdown class="notes">
    <script type="text/template">
      Rozmysla som ako ponat tuto prezentaciu. nechcel som aby to bol len pouhy vycet vlastnosti alebo referencna prirucka.
      Ale ono sa to moc neda
      Tak som sa tu snazil zhrnut len tie zakladne rysy jazyka, ktore ho odlisuju od ostatnych jazykov, pripadne nejake veci
      ktore nie su az take intuitivne a zrejme na prvy pohlad
      Chcel som aby to bolo prakticke.
    </script>
  </aside>

</section>

<section>
  <section>
    <h2>Why should you learn javascript?</h2>
  </section>

  <section>
    <p>Javascript is not just for moving html elements around the page anymore</p>

    <aside data-markdown class="notes">
      <script type="text/template">

        Ked som este robil v et netere, maintainoval som jeden eshop v ich CMS a obcas tam trebalo urobit aj nejaku
        upravu na UI - vacisnou to teda robili supportaci ale niekedy som sa tomu nevyhol dni ja.

        Nenavidel som to - povazoval som to za manualnu pracu na ktorej nie je nic tvorive, proste trebalo prida par
        html
        elementov niekde, nejake dalsie css classy a obcas este niecim zahybat cez jQuery a nieco poanimovat. Trebalo to
        furt ladit pre rozne prehliadace a bola to taka spinava praca. Snazil som sa tomu vyhybat.

        Aby bolo jasne - o html a css som vedel nutne minimum, vzdy som si vygooglil aky selektor mam pouzit a ake
        atributy do css vlastne patria.. Co sa tyka js tak to som nepoznal skoro vobec, skopiroval som co som nasiel na
        nete a ono to nejako fungovalo. Isiel som na to skor intuitivne.
      </script>
    </aside>

  </section>

  <section>
    <p>Web is the future - everything is moving to web</p>

    <aside data-markdown class="notes">
      <script type="text/template">
        V poslednom case ale zacal webovy svet zazivat revoluciu - zacalo sa pomerne dost rozpravat o html5, css3 -
        selektor sem selektor tam, rozne css transformacie, javascriptove kniznice, bootstrap, knockout, backbone, node,
        angular.. nemal som tucha ako tie veci funguju
        Islo to mimo mna ale nejako som registroval ze je okolo toho rozruch. Bolo toho pomerne dost a uvedomoval som si
        ze sa to uz neda ignorovat, ze to je pomerne velka vec.

        Preto ked prisla konzola - CCC tak som si povedal ze to je skvela prilezitost ako sa do toho ponorit, ako sa
        naucit nieco nove - co je lepsie ako cisto novy projekt, pre 1-2 ludi..

        Tak som do toho skocil ale bolo toho vela. Vobec som nevedel co kde je ale bol som hodeny rovno do vody -
        javascript, ember, handlebars, sass, mocha, karma, grunt, node,...
      </script>
    </aside>
  </section>

  <section>
    <p>Don't think about javascript as of language - think about it as of web platform</p>

    <p>Javascript ecosystem is rich and it's on rise</p>

    <aside data-markdown class="notes">
      <script type="text/template">
        Javascriptovy svet je teraz na vzostupe, je tam ked bola java pred 10 rokmi. Js vyzera ako sracka jazyk ale
        nedajte sa oklamat, java tiez nie je ziadne terno. A najlepsie na jave nie je jazyk, ale JVM a cely ekosystem co
        okolo toho existuje. A presne to plati aj pre javascript - je to najrozsirenejsi jazyk, da sa s tym robit hafo
        veci, teraz to prenika aj do backendu a do toolingu a nejde to ignorovat

      </script>
    </aside>
  </section>
</section>

<!-- Example of nested vertical slides -->
<section>
  <section>
    <h2>Once upon a time...</h2>
    <img width="300"
         src="http://t3.gstatic.com/images?q=tbn:ANd9GcSQChP1joizvOGS2DYInbExdOQ_pkJ8hip6wOEoHM38DBBvDBf64Q"
         alt="java-script">
  </section>

  <section>
    <h2>Remember Netscape?</h2>

    <aside data-markdown class="notes">
      <script type="text/template">
        * netscape bol celkom progresivny a novatorsky (on zaviedol cookies, script tag, ...)
        * chcel poskytnut uzivatelom nejaku moznost interakcie
        * potreboval nejaku konkurencnu vyhodu oproti MS
      </script>
    </aside>
  </section>

  <section>
    <h2>Brendan Eich - the father</h2>

    <img width="200"
         src="http://t0.gstatic.com/images?q=tbn:ANd9GcQ5Vjdjm6p_Cb8PrJ4Gg1S3qGSP2lCmMDgXpXC32lO8p_FIAeus"
         alt="brendan eich">

    <aside data-markdown class="notes">
      <script type="text/template">
        * otec javascriptu
        * chcel napisat nieco ako Scheme ale ked si v Nescape uvedomili co to vlastne je tak povedali ze ee
        * tak napisal javascript co je taky mix:
          * java(lebo musel bolo to prave in) (syntax)
          * scheme - dialekt LISPu (lambda + loose typing)
          * self - vychadzal zo smalltalku (prototypal inheritance)
          * perl (regexp)
      </script>
    </aside>
  </section>

  <section>
    <h2>naming</h2>

    <ul>
      <li class="fragment">Mocha</li>
      <li class="fragment">LiveScript</li>
      <li class="fragment">JavaScript</li>
      <li class="fragment">JsCript</li>
      <li class="fragment">ECMAScript</li>
      <li class="fragment">Js1.5/Js1.8</li>
    </ul>

    <aside data-markdown class="notes">
      <script type="text/template">
        * vyvojarsky nazov pre jazyk bol Mocha
        * po release sa to oficialne volalo LiveScript
        * sun a netscape pochopili ze ms je velmi silny a ze by nebolo odveci spojit sa
          * sun chcel aby netscape zabilo LiveScript a stavilo na javu, co sa ale nepacilo netscapu
          * padol navrh na premenovanie LiveScript-u na JavaScript - Sun vlastni trademark a Nestcape bude jediny kto ho
        moze pouzivat
          * 1995 - vychadza JavaScript
        * MS zistil ze JavaScript je vlastne celkom fajn, tak ho cely reverse engineering-oval (spolu aj s chybami) a
        dal ho do IE3 ako JScript (kvoli trademark issues)
        * Netscape sa zlakol ze MS si s tym bude robit co chce, tak si povedal ze to treba rychlo standardizovat
          * Nestacape to najprv skusil u W3c ale ti ich poslali do prdele, tak skusili ISO a dalsi organizacie ale seci
        ich odmietli
          * nakoniec pochodili u ECMA (european computer manufacturer association) - ale netscape si dal podmienku ze
        standard sa nesmie volat Javascript - iba netscape tomu tak moze hovorit
          * ECMA prislo s jazykom ECMAScript
          * v standardizacnej komisii bol aj MS, takze to nebola az taka velka vyhra, MS trval na povodnej verzii
        * ES3(1999) je najrozsirenejsia verzia
        * ES4(2009) nikdy nevysla - mala prilis siroky scope tak to zarizli
        * 2011 - vysiel JSON 'standard' (Douglas Crockford to niekde zavesil na net)
        * javascript 1.5 a 1.8 - to je len verzovanie mozily 1.5==ES3, 1.8 ma nonstandard language extensions
      </script>
    </aside>
  </section>
</section>

<section>
  <section>
    <h2>JavaScript is</h2>

    <ul>
      <li>high-level</li>
      <li>dynamic</li>
      <li>untyped</li>
      <li>interpreted</li>
      <li>suitable for OO and functional style</li>
    </ul>
  </section>

  <section>
    <h2>The Good parts</h2>

    <ul>
      <li>Lambdas</li>
      <li>Dynamic objects</li>
      <li>Loose typing</li>
      <li>Prototypal inheritance</li>
      <li>Single threaded execution model</li>
      <li>Object literal (JSON)</li>
    </ul>

    <aside data-markdown class="notes">
      <script type="text/template">
        * js is fast
      </script>
    </aside>
  </section>

  <section>
    <h2>The Bad parts</h2>

    <ul>
      <li>Global variables</li>
      <li>The most misunderstood language</li>
      <li>No standard library</li>
      <li>Semicolon insertions</li>
      <li>No block scope</li>
      <li>with/eval/typeof/null vs undefined</li>
    </ul>

    <aside data-markdown class="notes">
      <script type="text/template">
        * global variables
          * js has no linker, everything is grouped in global namespace
        * because language is simple, people don't try to understand it but they use it asap
          * then they use it the wrong way and they are angry with the language
        * js is fast, DOM is slow (and js is taking the blame many times unfairly)
        * most of the bad parts can be avoided
      </script>
    </aside>
  </section>

  <section>
    <h2>Client-side vs server-side dichotomy</h2>

    <aside data-markdown class="notes">
      <script type="text/template">
        * client side - ember/angular
          * maven for this is bower
          * web workers
        * server side - node
          * maven for serverside is npm
          * fiber, etc
      </script>
    </aside>
  </section>

</section>

<section>
  <section>
    <h2>Closer overview</h2>
  </section>

  <section>
    <h2>No compilator - only interpreter</h2>

    <p>JS is interpreted. But some browsers do optimize code - i.e. chrome compiles js to native code</p>

    <aside data-markdown class="notes">
      <script type="text/template">
        * JIT
      </script>
    </aside>
  </section>

  <section>
    <h2>JSLint</h2>

    <aside data-markdown class="notes">
      <script type="text/template">
        * for code analysis
          * global variable access
          * switch - default
      </script>
    </aside>
  </section>

  <section>
    <h2>Garbage collector</h2>

    <aside data-markdown class="notes">
      <script type="text/template">
        * automatic memory management
      </script>
    </aside>
  </section>

  <section>
    <h2>Single threaded execution model</h2>

    <ul>
      <li>Javascript is executed in browser in single thread</li>
      <li>No waiting, no locking...</li>
      <li><strong>no blocking</strong></li>
    </ul>

    <aside data-markdown class="notes">
      <script type="text/template">
        * web workers - for intensive tasks so UI thread is not blocked
          * can't manipulate DOM
          * can't share state between themselves
          * communicate using events (simple strings sending etc)
        * node.js
          * fiber - only single fiber is active, not fair
          * thread-a-go-go - like web workers
        * one would think that this would make js slow but it's not true
          * thanks to non-blocking nature js is really fast + webworkers/fiber
      </script>
    </aside>
  </section>

    <section>
      <h2>No standard library - only pure javascript and environment</h2>

      <aside data-markdown class="notes">
        <script type="text/template">
          * spec defines only minimal API for arrays, dates, regexp...
          * environment provides the rest - Window object in browser provides setTimeout(), alert() functions etc
            * node.js provides own objects
        </script>
      </aside>
    </section>

  <section>
    <h2>Language is case-sensitive</h2>

    <aside data-markdown class="notes">
      <script type="text/template">
        * beware when using with HTML
        * HTML is case-insensitive, there can be 'onclick' attribute and 'onClick' is valid too
        * in javascript, the handler name has to be lowercase 'onclick' (also in XHTML)
        * programs are written using UNICODE
      </script>
    </aside>
  </section>

    <section>
      <h2>Many reserved words, only couple of them are in use (+ global variables)</h2>

      <aside data-markdown class="notes">
        <script type="text/template">
          * reserved
            * break case catch continue debugger default delete do else false finally for function if in instanceof new nul return switch this throw true try typeof var void while with
          * reserved not in use
            * class const enum export extends import super
          * strict mode keywords
            * implements interface let package private protected public static yeld
          * ES3 reserved all java keywords
            * abstract boolean byte char class const double enum export extends final float godo implements import int interface long native package private protected public short statis cuper synchronized throws transient volatile
          * global variables
            * arguments Array Boolean Date decodeURI decodeURIComponent encode URI encode URIComponent Error eval EvalError Function Infinity isFinite isNaN JSOnMath NaN Number Object parseFloat parseInt RangeError ReferenceError RegExp String SyntaxError TypError undefined URIError
        </script>
      </aside>
    </section>

    <section>
      <h2>Optional semicolon</h2>
      <p><strike>can be omited between lines and js will insert it itself</strike></p>

      <pre><code>
          var a;
          a
          =
          5
          console.log(a) // the same as var a; a=5; console.log(a)

          var a=b+c
          (d+g).toString() // js will search for function c(dg)

      </code></pre>


      <aside data-markdown class="notes">
        <script type="text/template">
          * js will put semicolon at the end of the line if the next nonspace character (on the next line) cannot be interpreted as a continuation of the current statement
            * var a; \n a \n = \n 5 \n console.log(a) =>  var a; a=5; console.log(a)
            * var a=b+c \n (d+g).toString() // if no semicolon - js will search for function c(dg)
          * beware on return/continue/break - they don't check next line
        </script>
      </aside>
    </section>

</section>

<section>

  <section>
    <h2>Types</h2>
  </section>

  <section>
    <h2>Loose typing</h2>
    <h3>There are no types from user point of view</h3>

    <aside data-markdown class="notes">
      <script type="text/template">
        * but there are types. You can gat TypeError when can't convert etc.
          * ({a:5}).helloWorld()
      </script>
    </aside>
  </section>

  <section>
    <h2>Primitive types</h2>

    <ul>
      <li>number</li>
      <li>string</li>
      <li>boolean</li>
      <li>null</li>
      <li>undefined (kind of)</li>
    </ul>
  </section>

  <section>
    <h2>Object types</h2>
    <p>everything that is not a primitive type is an object</p>
  </section>

  <section>
    <h2>Boolean</h2>

    <ul>
      <li><strong>true/false</strong></li>
      <li>falsy values
        <ul>
          <li>undefined/null</li>
          <li>0/-0</li>
          <li>NaN</li>
          <li>''</li>
        </ul>
      </li>
      <li>truthy values
        <ul>
          <li>everything else (even empty array)</li>
        </ul>
      </li>
    </ul>
  </section>

  <section>
    <h2>Number</h2>

    <ul>
      <li>64-bit floating point IEEE-754 (java double)</li>
      <li>no integer/double distinction</li>
      <li>arithmetics don't raise error in case of overlow/underflow/division by zero</li>
      <li>edge cases - Infinity/NaN
        <ul>
          <li>NaN != NaN (the only case where x!=x)</li>
        </ul>
      </li>
    </ul>

    <aside data-markdown class="notes">
      <script type="text/template">
        * array indexing is performed with 32-bit integers
        * don't write number literal with leading zero, some implementations consider it as octal value
        * ES5 forbids octal literals explicitly
        * underflow occurs if value is close to zero = 0 is produced (or -0)
        * division by zero produces NaN
        * x != x // will be true if and only if x is NaN
      </script>
    </aside>
  </section>

  <section>
    <h2>String</h2>

    <ul>
      <li>no surprise - immutable, ordered sequence of characters</li>
      <li>in ES3 string literals must be oneliner, ES5 permits line breaks</li>
    </ul>

    <aside data-markdown class="notes">
      <script type="text/template">
        * 16-bit values - each represent Unicode character
        * length is number of 16-bit values it contain
        * pi.length == 1
        * e.length == 2
        * if escape character precedes any other character, it is ignored
        * beware when using "' in html - choose one and use it
      </script>
    </aside>
  </section>

  <section>
    <h2>wrapper objects for primitives</h2>

    <pre><code>
      var a = 5;
      a.toString();

      /* define property on wrapper object
      * but it will be disposed after this statement
      */
      a.someProperty = 'someValue';
      console.log(a); // undefined
    </code></pre>

    <aside data-markdown class="notes">
      <script type="text/template">
        * string/number/boolean
      </script>
    </aside>

  </section>

  <section>
    <h2>undefined</h2>

    <ul>
      <li>absence of property</li>
      <li>unitialized value</li>
      <li>it's global value, that can be set (in ES3)</li>
    </ul>
    <aside data-markdown class="notes">
      <script type="text/template">
        * default function return value
        * array return value (for non existing)
        * its global value that can be set (in ES3)
          * in ES5 undefined is read-only value
          * typeof undefined // returns 'undefined'
      </script>
    </aside>
  </section>

  <section>
    <h2>null or undefined ? </h2>

    <aside data-markdown class="notes">
      <script type="text/template">
        * null is the right choice most of the time
        * don't set undefined manually (use delete or so)
      </script>
    </aside>
  </section>

  <section>
    <h2>function</h2>
    <ul>
      <li>function is object</li>
      <li>function is true value</li>
    </ul>

    <pre><code>
      var fun1 = function(){alert('hello world');}

      function namedFunction(){alert('hello world');}
    </code></pre>

    <aside data-markdown class="notes">
      <script type="text/template">
        * object with executable code
        * function are values - they can be passed around,...
      </script>
    </aside>
  </section>


  <section>
    <h2>Date</h2>

    <p>Let's do it java style - 0 - based months, 1 - based days.</p>

    <img width="300" src="https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQJQMfrp6rTBxJjTkgW2NlaVFLC4nOSopTy0SYbZD3r1A-xsitS9w" alt="facepalm">
  </section>


  <section>
    <h2>null</h2>

    <pre><code>
      typeof null === 'object' // WTF?
    </code></pre>

    <img width="300" src="https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQJQMfrp6rTBxJjTkgW2NlaVFLC4nOSopTy0SYbZD3r1A-xsitS9w" alt="facepalm">
  </section>

  <section>
    <h2>RegExp (perl syntax)</h2>

    <pre><code>
      var pattern = /[a-z0-9]+/i; // define case-insensitive regexp
      pattern.test('hello world'); // true

      'abc123'.match(/[0-9]/g); // ['1', '2', '3']

    </code></pre>

    <aside data-markdown class="notes">
      <script type="text/template">
        * perl regexp /asdf/gi
      </script>
    </aside>
  </section>

  <section>
    <h2>Exceptions</h2>

    <pre><code>
      (function() {
        alert('hello world!');

        try {
          throw new Error('forbidden');
        } catch (e) {
          if (e instanceof SomeException) { // yeah this is kind of dumb
            throw 403;
          } else if (e.name === 'AnotherError') {
            throw {description: 'something happened'}
          }
        } finally {
          throw 'FatalError'
        }
      }())
    </code></pre>
  </section>

</section>

<section>
  <section>
    <h2>Objects</h2>
    <ul>
      <li>composite value</li>
      <li>hash/dictionary/associative array</li>
      <li>dynamic</li>
      <li>prototypal inheritance</li>
    </ul>

    <aside data-markdown class="notes">
      <script type="text/template">
        * aggregates multiple values
        * (unordered)collection of properties - each has name and value
        * dynamic - properties can be added/deleted at runtime
        * it can inherit some properties from another object (its prototype) - hence prototypal inheritance
      </script>
    </aside>
  </section>

  <section>
    <h2>Define object using literal</h2>

    <pre><code>
      var obj = {
        name: 'Jozko',
        surname: 'Mrkvicka',

        wholeName: function(){
          return this.name + ' ' + this.surname;
        }
      }
    </code></pre>
  </section>

  <section>
    <h2>Define object using constructor function</h2>

    <pre><code>
      function Person(name, surname){
        this.name =  name;
        this.surname = surname;

        this.wholeName = function(){
          return this.name + ' ' + this.surname;
        }
      }

      // don't forget new keyword!
      var jozko = new Person('Jozko', 'Mrkvicka');

    </code></pre>
  </section>

  <section>
    <h2>Define object using Object.create()</h2>

    <pre><code>
      var obj = Object.create(Object.prototype, {prop: {value: 'asdf'}})
    </code></pre>

    <aside data-markdown class="notes">
      <script type="text/template">
        * property descriptor
      </script>
    </aside>
  </section>

  <section>
    <h2>Define object using custom library like Ember.js</h2>

    <pre><code>
      var Person = Ember.Object.extend({
        name: null,
        surname: null,

        wholeName: function(){
          return this.get('name') + ' ' + this.get('surname');
        }.property('name', 'surname');
      });

      var jozko = Person.create({name: 'Jozko', surname: 'Mrkvicka'});
    </code></pre>
  </section>


  <section>
    <h2>Object properties</h2>
    <ul>
      <li>dot/square bracket notation</li>
      <li>property attributes (value, writable, enumerable, configurable)</li>
      <li>accessor properties (getter/setters)</li>
      <li>deleting property</li>
      <li>for in loop</li>
    </ul>

    <aside data-markdown class="notes">
      <script type="text/template">
        * notation
          * dot - can't use reserved words, no dash, spaces
          * bracket - anythink, even expression, even empty string
        * property attributes can be modified in ES3
          * ES5 allows modification, among other cool stuff - freezing object
        * delete property
          * like setting to undefined, but the property removes from enumeration
        * for in loop
          * iterate over object (enumerable) properties, and its prototype properties
          * user can filter what he caser about
      </script>
    </aside>
  </section>

  <section>
    <h2>Defining properties</h2>
    <pre><code>
      var obj = {
        a: 'aa'
      }

      obj.b = 'bbb'

      Object.defineProperty(obj, 'c', {
        value: 'ccc',
        enumerable: 'false',
        configurable: 'false',
      });

      obj.hasOwnProperty('c') == true;

    </code></pre>

    <aside data-markdown class="notes">
      <script type="text/template">
        * property descriptor
          * ES3 - can't be changed
          * ES5 - can be chaned using Object.defineProperty
        * writable - whether property can be set
        * enumerable - whether the property is returned in for/in loop
        * configurable - whether property can be deleted and attributes altered
      </script>
    </aside>
  </section>

</section>

<section>
  <section>
    <h2>Arrays</h2>
    <ul>
      <li>array literal</li>
      <li>untyped</li>
      <li>dynamic</li>
      <li>pop/push/shift</li>
    </ul>

    <pre><code>
      var arr = [1,2,,,{a:'b'},];
      arr.push('hello world');
      arr.length === 6 // true
      arr.someProperty = 'value'; // define property on array

      var anotherArr = new Array(10); // define sparse array

    </code></pre>

    <aside data-markdown class="notes">
      <script type="text/template">
        * sparse
        * typeof returns 'object'
        * trailing comma is permitted [1,2,3,]
        * empty values are treated as undefined [1,2,3,,,4,5,]
        * zero based, 32 bit index
        * distinguish between indices and properties
          * index is integer between - and 2^32-1  - update length when such key
          * if you use negative number, or string, it is converted to string and ttreated as poperty
          * also if you use string which is number, it works as index (conversion)
        * array like objects
          * string
          * arguments
      </script>
    </aside>
  </section>
</section>

<section>
  <section>
    <h2>Functions</h2>
    <ul>
      <li>first class citizens</li>
      <li>function are values</li>
      <li>hoisting</li>
      <li>invocation context</li>
      <li>lexical scoping (closures)</li>
    </ul>

    <aside data-markdown class="notes">
      <script type="text/template">
        * values - they can be passed around etc
        * arguments
          * if fewer - undefined
          * if more - access through argument
          * length attribute - arity of function
        * names are useful for stacktraces
        * variable declaration get hoisted, but their assignment don't
        * also function declaration get hoisted (the whole with body not just the name)
        * this
          * not a variable
          * not assignable
          * not keyword
          * doesn't have scope
        * closures
          * lexical scoping - so the functions must include also reference to the current scope chain (when defining)
          * this combination of function object and scope(variable bindings) in which function variables are resolved is called a closure
        * toString
      </script>
    </aside>
  </section>

  <section>
    <h2>Function definition</h2>
    <ul>
      <li>function definition expression</li>
      <li>function statement (function declaration)</li>
    </ul>

    <aside data-markdown class="notes">
      <script type="text/template">
        * function definition expression can include name for the function
          * define function as part of larger expression
          * var a = function sth(){} // named function
          * (function(){alert('asdf');})(); // self invoking function expression
        * function declaration
          * function sth(){}
          * without var
          * only top level, no in if/loop
      </script>
    </aside>
  </section>

  <section>
    <h2>Function invocation patterns</h2>
    <p>They differ in invocation context (this)</p>
    <ul>
      <li>function</li>
      <li>method</li>
      <li>constructor</li>
      <li>indirect (call/apply)</li>
    </ul>


    <aside data-markdown class="notes">
      <script type="text/template">
        * function
          * global this
          * ES 5 put undefined in this
        * method
          * this is the object
          * property of object
        * constructor
          * newly created this
        * indirect
          * call - expects own argument list
          * apply - expects array
        * bind(this)
      </script>
    </aside>
  </section>

  <section>
    <h2>Function as namespace</h2>
      <pre><code>
      (function(){
        var obj={},
            privateVariable = 1;

        obj.publicFunction = function(){
          return privateVariable;
        }
        return obj;
      }());

    </code></pre>

    <aside data-markdown class="notes">
      <script type="text/template">
        * the parenthesis are necessary for the compiler to know that this isn't function declaration statement, but function definition expression
      </script>
    </aside>
  </section>
</section>

<section>
  <section>
    <h2>Prototype inheritance</h2>
    <p>Object has prototypes. If property is not found in current object, search throught prototype chain for it.</p>


    <aside data-markdown class="notes">
      <script type="text/template">
        * object created by new Date() inherits data from Date prototype and Object prototype
      </script>
    </aside>
  </section>

  <section>
    <h2>Constructor pattern</h2>

    <pre><code>

      // this is set to new object
      function Rabbit(name, type) {
        this.name = name;

        // 'private' encapsulated property
        this.type = function(){
          return type;
        }

      }

      // define functions in prototype
      Rabbit.prototype.jump = function() {
        this.canWalk = true;
      }

      Rabbit.LACO = new Rabbit('Laco');

      // don't forget new keyword
      var rabbit = new Rabbit('John')

    </code></pre>

    <aside data-markdown class="notes">
      <script type="text/template">
        * only constructor have prototype attribute
        * object prototype doesn't have prototype
        * every object has associated prototype (assigned during construction time)
      </script>
    </aside>
  </section>

  <section>
    <h2>Object.create()</h2>

    <pre><code>
      var obj = Object.create(Object.prototype, {x: {value: 5}})
    </code></pre>

    <aside data-markdown class="notes">
      <script type="text/template">
        * Object.create()
          * first argument is prototype
          * second argument is stuff to add (beware it's property descriptors! not plane properties)
      </script>
    </aside>
  </section>

  <section>
    <h2>is object prototype of another object ? </h2>

    <pre><code>

      // the ES5 way
      object.isPrototypeOf(anotherObj)

      // the old way
      object instanceof SomeConstructor

    </code></pre>
  </section>

</section>

<section>
  <section>
    <h2>Variables, scopes</h2>
  </section>

  <section>
    <h2>Variables</h2>

    <ul>
      <li>var keyword</li>
      <li>untyped</li>
      <li>lexical scoping</li>
      <li>perform conversion when necessary (beware - can be tricky)</li>
    </ul>

    <aside data-markdown class="notes">
      <script type="text/template">
        * multiple vars doesn't matter
        * you can assign value to undeclared property but then it goes to the global scope
        * es5 throws error in such case
        * if you declare global variable, you are actually defining property of global object
        * it you do it using var = the property is nonconfigurable, and can't be deleted
      </script>
    </aside>
  </section>

  <section>
    <h2>Variables</h2>

    <ul>
      <li>function scope only</li>
      <li><strong> no block scope:( </strong></li>
      <li>scope chain</li>
      <li>hoisting</li>
    </ul>

    <aside data-markdown class="notes">
      <script type="text/template">
        * multiple vars doesn't matter
        * you can assign value to undeclared property but then it goes to the global scope
        * es5 throws error in such case
        * function scope layering - nested functions
        * scope chain - variable resolution
        * variables are visible before they are declared - hoisting
        * but assignments are not hoisted
        * that's the reason why vars shold be on top
        * but it breaks locality of access
        * if you declare global variable, you are actually defining property of global object
        * it you do it using var = the property is nonconfigurable, and can't be deleted
      </script>
    </aside>
  </section>

  <section>
    <h2>Variables</h2>


    TODO example should work
    <pre><code>
      var someFunction = function(){
        var a = 5;
        {
          var b = 10; // no block scope - b is hoisted to the top
        }

        alert(helloWorld()); // this works fine

        // this would fail
        // alert(helloWorldVariable());

        // helloWorld function get hoisted to the top, so it can be called from everywhere
        // helloWorldVariable get hoisted but it assignment don't
        var helloWorldVariable = function helloWorld(){
          return 'hello world';
        }

        // closure
        return function(){
          return a++;
        }
      }
    </code></pre>

    <aside data-markdown class="notes">
      <script type="text/template">
        * multiple vars doesn't matter
        * you can assign value to undeclared property but then it goes to the global scope
        * es5 throws error in such case
        * function scope layering - nested functions
        * scope chain - variable resolution
        * variables are visible before they are declared - hoisting
        * but assignments are not hoisted
        * that's the reason why vars shold be on top
        * but it breaks locality of access
        * if you declare global variable, you are actually defining property of global object
        * it you do it using var = the property is nonconfigurable, and can't be deleted
      </script>
    </aside>
  </section>

  <section>
    <h2>Identifiers and keys</h2>

    <ul>
      <li>[a-zA-Z_$][a-zA-Z_$0-9]</li>
      <li>no dash etc</li>
      <li>the same goes for object properties names</li>
      <li>if using square bracket notation - everything is permitted</li>
    </ul>
  </section>
</section>

<section>
  <section>
    <h2>Statements, operators</h2>
  </section>


  <section>
    <h2>instanceof, typeof</h2>

    <aside data-markdown class="notes">
      <script type="text/template">
        * instanceof
          * prototype chain
          * left operand is object, right is function
        * typeof
          * not really useful
          * undefined: 'undefined'
          * null: 'object'
          * true/false: 'boolean'
          * number/NaN: 'number'
          * text: 'string'
          * functoin: 'function'
          * object/array: 'object'
      </script>
    </aside>
  </section>

  <section>
    <h2>equality</h2>
    <ul>
      <li>== performs conversion</li>
      <li>=== strict equation (identity operator)</li>
    </ul>

    <aside data-markdown class="notes">
      <script type="text/template">
        * === does not perform conversion, so it also compares types
        * check type
        * check type, check null/undefined (null/undefined===null/undefined), check if they are primitives (besides NaN), check for reference eq
        * == conversion (toString, valueOf), comparing primitives
        * like === but instead of reference comparing, it convert values and compare primitives
      </script>
    </aside>
  </section>

  <section>
    <h2>other operators</h2>
    <p>perform conversions when necessary</p>

    <aside data-markdown class="notes">
      <script type="text/template">
        * toString()
        * valueOf()
      </script>
    </aside>
  </section>

  <section>
    <h2>debugger</h2>

    <p>serves as breakpoint if debugger is running</p>

    <aside data-markdown class="notes">
      <script type="text/template">
        * formally is part of ES5 but most browser supports it
        * doesn't start debugger itself
      </script>
    </aside>
  </section>

  <section>
    <h2>"use strict"</h2>

    <p>ES5 directive for strict code - indicates that strict code follows</p>

    <aside data-markdown class="notes">
      <script type="text/template">
        * defined at the begining of the function or at the start of the script
        * something like annotation
        * restrictions
          * with statement is forbidden
          * function this is not scoped to the global object
          * no two properties with same name in object literal
          * no octal number literals
          * eval/arguments as keywords
      </script>
    </aside>
  </section>

  <section>
    <h2>eval</h2>

    <p>evaluate some string as javascript code - don't use it</p>

    <pre><code>
      eval('alert("hello world!");
    </code></pre>

    <aside data-markdown class="notes">
      <script type="text/template">
        * evaluates in current context
        * this should be operator, not a function
          * can be assigned to another var, interpreter can't optimize it
        * it can clutters your global space
      </script>
    </aside>
  </section>

  <section>
    <h2>with</h2>

    <p>temporarily extend scope chain - don't use it</p>

    <pre><code>
      var a = 'aa',
          obj = {x = 'xx'};

      with(obj){
        x === 'xx'; // search on object
        a === 'aa'; // search from 'outer' scope
        c = 'cc'; // yikes! global scope
      }

    </code></pre>

    <aside data-markdown class="notes">
      <script type="text/template">
        * serves as shortcut, can be replaced with simple var
        * hard to optimize
        * only for reading/changing properties
        * new property can't be defined this way
        * no clear way of telling whether property was accessed on object or from outter space
      </script>
    </aside>
  </section>
</section>

<section>
  <section>
    <h2>Execution javascript in browser</h2>
  </section>

  <section>
    <h2>Window - the environment</h2>
    <p>Window serves as global object which provides API and some useful objects(document,location...) and methods (alert, setTimeout,...)</p>
  </section>

  <section>
    <h2>Js is running in two modes</h2>
    <ul>
      <li>synchronous(loading) mode</li>
      <li>asynchronous (event-handling) mode</li>
    </ul>

    <aside data-markdown class="notes">
      <script type="text/template">
        * in history, there was no API for traversing DOM
        * the only way JS could manipulate DOM was generating it using document.write()
        * so browser hits script tag, it pauses rendering and execution, downloads and executes script
      </script>
    </aside>
  </section>

  <section>
    <h2>Embeding javascript code in HTML</h2>
    <ul>
      <li>inline between pair of script tags</li>
      <li>external file</li>
      <li>directly in HTMl as some event handler</li>
    </ul>

    <aside data-markdown class="notes">
      <script type="text/template">
        * script tag
          * close tag is required
          * default value for type is text/javascript so it't not necessary to set it
          * language attribute is deprecated (language='javascript')
        * defer/async atribut
          * can't use document.write
          * defer - trigger downloading script but execute it after dom is loaded/parsed,.. execute scripts in order they trigger download
          * async - trigger downloading script and execute it as soon as possible
        * all javascripts share the same namespace and same global object
        * inline
          * the code should be in CData section - if code contains <& marks (these characters are interpreted as XML markup)
        * external file
          * behaves exactly as inlined script
          * if you use src attribute, content between tags is ignored
          * caching - using CDN
            * same origin policy doesn't apply here - js code can interact with code no matter where it was loaded from
      </script>
    </aside>
  </section>


  <section>
    <h2>Browser waterfall</h2>

    <aside data-markdown class="notes">
      <script type="text/template">
        * browser creates document and it starts parsing html page - creating html elements, text nodes ,...
          * set document.readyState = 'loading'
        * if browser hit script tag without async/defer:
          * stop parsing page
          * download script
          * wait until it's downloaded
          * execute script (script can see its script tag and elements before)
          * continue parsing html page
        * if browser hit script tag with async/deffer
          * trigger downloading code but continue parsing and processing html page
          * async script is executed as soon as possible (when it is downloaded), it is executed synchronously
        * when document is parsed, set document.readyState='interactive'
          * defer scripts trigger wight now (trigger them in order they were downloaded)
        * if document is parsed, fire DOMContentLoaded event on document
          * that means, browser goes to async phase
          * some script may be still executing in this phase
        * document is parsed, some scripts and images may be still loading
        * when everything is loaded and executed, set document.readyState = 'complete'
        * fire load event on window
        * async phase

        * there is no specification where should be content visible (browser specific)

        * window.onload
          * fire when dom is loaded(also pictures are downloaded and everything), it's built-in javascript event
          * fire when DOM is ready, pictures, ,everything ..
        * document.ready
          * jQuery extension, fire before window.onload, when DOM is loaded(but images might not be loaded yet), shold be triggered ASAP
          * fire when DOM is ready to be manipulated
      </script>
    </aside>
  </section>

</section>


<section>
  <section>
    <h2>Developer tools</h2>
  </section>

  <section>
    <h2>Back in old days</h2>
    <blockquote>Use the alert Luke!</blockquote>
  </section>

  <section>
    <h2>Behold develooper tools</h2>
    <ul>
      <li>on windows/linux use F12</li>
      <li>on mac press these klingon keys: &#8984; &#8997; I </li>
    </ul>
  </section>

  <section>
    <h2>elements</h2>
    <p>DOM manipulation</p>

    <aside data-markdown class="notes">
      <script type="text/template">
        * CSS adjustments
          * see all applicable styles with filenames
          * enable/disable style
          * code completition
          * :hover (desn't work with tooltips)
        * inspect element
          * or use magnifier from toolbox
        * in console inspect($('#nejake_id')) - find element
        * $0 - selected element
        * $ - like jquery, if there is jquery, it replaces chrome $

      </script>
    </aside>
  </section>

  <section>
    <h2>resources</h2>
    <p>Cookies/localstorage,...</p>
    </aside>
  </section>

  <section>
    <h2>network</h2>
    <p>inspect network communication</p>

    <aside data-markdown class="notes">
      <script type="text/template">
        * see request, response, methods, headers
          * 304 - not modified, cache used
          * use SHIFT + REFRESH to hard refresh
        * waterfall
          * color by type
            * blue - html
            * orange - js
            * green - css
            * purple - images
          * blue line - firing dom.loaded (browser has parsed html file but some images still can be loading)
          * red line - firing load event (everything is downloaded)
          * show latency

      </script>
    </aside>
  </section>

  <section>
    <h2>sources</h2>
    <p>Browse through js/css/html files</p>

    <aside data-markdown class="notes">
      <script type="text/template">
        * save after many modifications (right click and save)
        * history
        * pretty print {}
      </script>
    </aside>
  </section>

  <section>
    <h2>profiler + timeline</h2>
    <p>profile css/javascript code</p>
  </section>

  <section>
    <h2>console</h2>
    <p>using for logging, debugging, pause on exception</p>

    <aside data-markdown class="notes">
      <script type="text/template">
        * open with escape key
        * autocompletition
        * breakpoint
        * console.log(info)
        * console.error(some_error)
        * console.log(someObj) // tree like structure
      </script>
    </aside>
  </section>

</section>



<section>
  <h2>That's all folks</h2>
  <img width="800" src="http://www.reachingcampus.com/wp-content/uploads/2013/05/thats-all-folks-7172-1280x800.jpg" alt="thatsall">
</section>

<section>
  <h2>Q&A</h2>
</section>

</div>

</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.min.js"></script>

<script>

  // Full list of configuration options available here:
  // https://github.com/hakimel/reveal.js#configuration
  Reveal.initialize({
    controls: true,
    progress: true,
    history: true,
    center: true,

    theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
    transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

    // Optional libraries used to extend on reveal.js
    dependencies: [
      { src: 'lib/js/classList.js', condition: function() {
        return !document.body.classList;
      } },
      { src: 'plugin/markdown/marked.js', condition: function() {
        return !!document.querySelector('[data-markdown]');
      } },
      { src: 'plugin/markdown/markdown.js', condition: function() {
        return !!document.querySelector('[data-markdown]');
      } },
      { src: 'plugin/highlight/highlight.js', async: true, callback: function() {
        hljs.initHighlightingOnLoad();
      } },
      { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() {
        return !!document.body.classList;
      } },
      { src: 'plugin/notes/notes.js', async: true, condition: function() {
        return !!document.body.classList;
      } }
    ]
  });

</script>

</body>
</html>
